[gd_scene load_steps=8 format=3 uid="uid://8tmgt00yc6a3"]

[ext_resource type="Script" uid="uid://1crl7nopt4jt" path="res://scripts/level.gd" id="1_2r41h"]
[ext_resource type="Texture2D" uid="uid://3btsldktxokk" path="res://assets/city.png" id="1_ppgk2"]
[ext_resource type="Texture2D" uid="uid://0boxs1e5f3qk" path="res://assets/mytrack2d.png" id="1_w8frs"]
[ext_resource type="Texture2D" uid="uid://sva8u1qa4mas" path="res://assets/finishline.png" id="2_mx8sn"]
[ext_resource type="PackedScene" uid="uid://bibnqau26hlak" path="res://scenes/player.tscn" id="3_w8frs"]
[ext_resource type="Script" uid="uid://qd6s2vg7u1ji" path="res://scripts/player.gd" id="4_mx8sn"]
[ext_resource type="Script" uid="uid://d3kbxoj0x7nyi" path="res://scripts/crash.gd" id="7_klq6b"]

[node name="Level" type="Node2D"]
script = ExtResource("1_2r41h")

[node name="city" type="Sprite2D" parent="."]
position = Vector2(134, 215)
scale = Vector2(14.165181, 9.7322)
texture = ExtResource("1_ppgk2")

[node name="Circuit" type="Area2D" parent="."]
position = Vector2(170.00002, -668)
rotation = 1.5707964
scale = Vector2(1.6893996, 1.6216831)

[node name="Track" type="Sprite2D" parent="Circuit"]
position = Vector2(723, 135)
scale = Vector2(2.6081083, 2.541587)
texture = ExtResource("1_w8frs")

[node name="FinishLine" type="Sprite2D" parent="Circuit/Track"]
position = Vector2(13.047809, 135.80855)
rotation = 1.5707964
scale = Vector2(0.11411366, 0.12516978)
texture = ExtResource("2_mx8sn")

[node name="OutterTrackLimit" type="CollisionPolygon2D" parent="Circuit"]
position = Vector2(723, 135)
scale = Vector2(2.6081083, 2.541587)
polygon = PackedVector2Array(-174.45593, -46.82114, -190.55957, -59.411697, -201.67874, -83.80591, -202.06216, -110.95429, -194.77719, -134.16814, -180.97409, -153.44743, -162.95334, -160.13617, -136.49739, -162.49689, -113.875626, -164.85762, -75.91708, -164.85762, 181.7409, -186.10422, 208.19687, -180.2024, 228.90152, -170.75948, 244.62177, -156.20163, 255.35751, -139.28308, 265.32642, -116.46269, 262.48938, -81.74575, 255.35751, -63.346268, 244.62177, -50.36226, 235.41968, -41.706245, 212.41449, -32.65678, 177.52332, -23.607296, 284.8808, 5.114914, 293.69946, 3.541069, 310.18652, 14.164351, 317.85492, 36.197826, 317.4715, 80.264786, 302.90155, 104.65899, 287.18134, 112.52808, 266.8601, 119.610275, 128.44559, 118.42992, 126.528496, 134.95502, 118.47668, 146.36523, 106.797424, 157.96414, 91.25389, 162.89034, 79.75131, 161.31653, -265.7098, 161.31653, -291.78235, 155.80817, -310.56992, 134.16814, -319.00516, 108.59357, -311.72018, 78.29754, -289.48184, 60.19861, -258.0414, 42.099678, -257.65802, 33.837124, -252.67355, 3.1476393, -240.78754, -9.049464, -221.23315, -20.853115, -85.88599, -16.918564, -174.17432, -46.565636, -169.40823, -48.26399, -68.63211, -18.885838, -67.098434, -12.984013, -69.782364, -9.836372, -220.08289, -15.344745, -230.05179, -11.410195, -241.9378, -3.1476412, -249.22278, 6.688733, -252.29013, 14.557832, -252.67355, 21.246567, -253.82382, 29.902575, -250.75644, 39.738945, -257.27457, 46.821136, -267.2435, 51.93605, -287.56473, 64.92007, -305.20206, 76.33026, -312.48703, 94.035736, -314.0207, 109.77393, -309.80307, 123.93831, -304.0518, 134.95505, -294.8497, 145.97179, -279.51294, 154.62779, -259.5751, 156.59506, 89.33679, 159.74269, 99.68912, 158.16887, 113.1088, 148.3325, 123.84455, 134.1681, 125.37823, 120.397194, 128.44559, 114.888824, 264.943, 111.7412, 285.26425, 109.7739, 306.35233, 91.67497, 312.87045, 73.182594, 312.1036, 34.230553, 304.81863, 19.279266, 294.0829, 8.262528, 278.36267, 6.688732, 174.45596, -19.279293, 170.23834, -24.000751, 172.92227, -28.72221, 199.37823, -33.443672, 219.14073, -39.77226, 230.26158, -44.382065, 249.09895, -62.82129, 259.08502, -83.4441, 261.1088, -109.77396, 253.4404, -132.20088, 241.17099, -151.48018, 226.98444, -166.03801, 209.15465, -174.66972, 195.16058, -179.02202, 183.0547, -180.49265, 166.02069, -178.2351, -157.20206, -158.1689, -167.55438, -156.59508, -177.90674, -150.29979, -187.49222, -140.06996, -192.86008, -129.44667, -195.54404, -116.85611, -195.54404, -102.29829, -195.92746, -94.82264, -194.77719, -82.62554, -190.55957, -72.78917, -187.1088, -64.133156, -179.4404, -56.26406, -169.08807, -48.39496)

[node name="InnerTrackLimit" type="CollisionPolygon2D" parent="Circuit"]
polygon = PackedVector2Array(48, 404, 61, 414, 907, 414, 925.7727, 337.9205, 1001, 296, 1340, 295, 1382, 273, 1363, 261, 945, 174.99995, 905, 128.99995, 886, 60.99996, 910, -6.000046, 970, -36.000046, 1191, -66, 1245, -85, 1266, -107, 1261, -145, 1229, -179, 1203, -194, 353, -140, 354, -119, 369, -103, 408, -80, 606, -20, 661, 15, 689, 84, 686, 148, 649, 201, 599, 226, 198, 231, 190, 298, 168, 332, 82, 379, 51, 391, 48, 398, 32, 403, 34, 389, 50, 376, 73, 364, 100, 355, 132, 343, 153, 327, 166, 314, 176, 293, 182, 274, 181, 240, 187, 226, 199, 217, 208, 214, 594, 221.99997, 611, 217.99997, 637, 204.99997, 656, 185.99997, 667, 168.99997, 676, 151.99997, 682, 132.99997, 684, 110.99997, 682, 87.99997, 677, 69.99997, 670, 47.99997, 662, 24.99997, 646, 11.9999695, 634, 0.9999695, 600, -16.00003, 433, -53, 387, -73, 364, -86, 341, -107, 335, -117, 336, -142, 342, -151, 359, -158, 1197, -208, 1223, -199, 1246, -185, 1264, -165, 1277, -137, 1279, -118, 1275, -100, 1260, -81, 1240, -68, 1213, -58, 974, -31.000046, 948, -15.000046, 920, 13.999954, 906, 42.999954, 905, 66.99996, 907, 87.99996, 916, 111.999954, 938, 136.99995, 968, 156.99995, 1370, 247, 1392, 260, 1397, 270, 1395, 283, 1345, 309, 1006, 310, 970, 327, 948, 343, 935, 363, 929, 380, 926, 402, 922, 413, 916, 421, 906, 425, 62, 426, 48, 421, 38, 413, 31.96399, 403.28473, 47.946014, 397.73495)

[node name="Player" parent="." instance=ExtResource("3_w8frs")]
position = Vector2(-606, 725)
rotation = -1.5707964
script = ExtResource("4_mx8sn")

[node name="Crash" type="Area2D" parent="."]
visible = false
script = ExtResource("7_klq6b")

[node name="MajorCrash" type="CollisionPolygon2D" parent="Crash"]
position = Vector2(170.00002, -668)
rotation = 1.5707964
scale = Vector2(1.6893996, 1.6216831)
polygon = PackedVector2Array(166.9232, 80.78027, 466.4379, 88.17998, 247.42517, 12.949509, 207.17418, -41.93174, 187.6406, -135.66153, 207.17416, -201.64236, 237.36241, -248.50726, 304.25006, -278.72278, 345.6849, -281.18936, 422.6353, -287.3558, 609.684, -289.8224, 1201.6104, -341.00378, 1282.1123, -321.88785, 1357.2869, -276.25626, 1389.251, -220.75836, 1413.52, -162.17728, 1409.3765, -88.796684, 1382.7397, -19.115997, 1341.3049, 26.51561, 1302.8297, 45.631554, 1185.6283, 77.08037, 1463.2417, 146.76105, 1489.8784, 144.29448, 1530.1294, 168.34357, 1553.2145, 230.62454, 1553.2145, 336.6872, 1511.7797, 397.73486, 1467.9772, 420.55066, 1405.825, 444.59976, 1057.7722, 437.20007, 1045.9337, 491.46466, 1006.27466, 527.8466, 956.55286, 550.6624, 15.390106, 546.346, -39.06711, 529.69666, -85.237366, 476.66528, -110.690216, 410.68445, -102.40326, 363.81958, -82.27777, 323.73773, -42.618713, 294.13885, 46.762177, 241.72418, 65.7038, 135.66153, -235.58667, 120.86211, -235.58667, 796.7031, 1679.8867, 782.52026, 1664.4967, -519.21375, -221.38043, -511.19733, -235.58667, 121.47875, 65.11188, 135.04489)

[node name="MajroCrash1" type="CollisionPolygon2D" parent="Crash"]
polygon = PackedVector2Array(-501, -566, -477, -592, -454, -569, -373, -396, -306, -346, -206, -334, -196, 342, -165, 420, -119, 462, -78, 491, 28, 502, 148, 450, 202, 352, 294, 23, 334, -43, 362, -72, 395, -77, 484, 1361, 451, 1413, 407, 1456, 341, 1468, 303, 1427, 277, 1350, 227, 963, 177, 872, 70, 832, -39, 865, -111, 935, -247, 1639, -276, 1671, -313, 1593, -313, 1022, -370, 912, -504, 868)

[node name="RecoveryTimer" type="Timer" parent="."]
wait_time = 2.0

[connection signal="body_entered" from="Circuit" to="." method="_on_circuit_body_entered"]
[connection signal="body_entered" from="Crash" to="Crash" method="_on_body_entered"]
[connection signal="timeout" from="RecoveryTimer" to="." method="_on_recovery_timer_timeout"]
